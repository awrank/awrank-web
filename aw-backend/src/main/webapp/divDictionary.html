<div class="alert alert-block">
    <button type="button" class="close" data-dismiss="alert">&times;</button>
    <h4>Warning!</h4>
    Best check yo self, you're not...
</div>

<div class="row">
    <div class="span12">
        <h4 lngt="DICTIONARY"></h4>
    </div>
</div>
<div class="row">
    <div class="span12">
        <select id="language">
            <option></option>
        </select>
        <input type="text" id="code"/>
        <br>
        <textarea id="text" cols="70"></textarea>
        <br>
        <input type="button" id="butSave" lngv="UPDATE" value="Save" onclick="fDictionaryListSave()"
               disabled="disabled"/>
        <input type="button" id="butAdd" lngv="INSERT" value="Add" onclick="fDictionaryListAdd()"/>
    </div>
</div>

<table class="table table-striped">
    <thead>
    <tr>
        <th></th>
        <th lngt="LANGUAGE">Language</th>
        <th lngt="DICTIONARY_CODE">Code</th>
        <th lngt="DICTIONARY_TEXT">Text</th>
        <th></th>
    </tr>
    </thead>
    <tbody id="tableBodyDictionary">
    <tr>
        <td><a href="#" class="index">1</a></td>
        <td><a href="#" class="language_code">RU</a></td>
        <td><a href="#" class="code">ERROR</a></td>
        <td><a href="#" class="text">Ошибка</a></td>
        <td><input type="button" lngv="DELETE" value="Delete"></td>
    </tr>
    </tbody>
</table>
<script type="text/javascript" language="JavaScript">
    var CDictionary = Backbone.Model.extend({

    });
    var CDictionaryList = Backbone.Collection.extend({
        model: CDictionary
    });
    var dictionaryList = new CDictionaryList();

    var CDictionaryListView = Backbone.View.extend({
        el: '#tableBodyDictionary',
        template: _.template($('#tableBodyDictionary').html()),
        model: CDictionaryList,
        events: {
            "click a": "select"
        },
        initialize: function () {

        },
        render: function () {
            for (var i = 0; i < this.model.length; i++) {
                $(this.el).append(this.template(this.model.at(i).toJSON()));
            }
            return this;
        },
        select: function () {
            alert('select')
        }
    });

    var dictionaryListView = CDictionaryListView();

    postJson('dictionary/list', null, function (data) {
        dictionaryList.parse(data.dictionaryList);

    });

</script>
